<view class="container">
  <!-- å¤´éƒ¨ -->
  <view class="header">
    <text class="title">æ£€æŸ¥é‡å¤ä¹¦ç±</text>
    <text class="message">{{message}}</text>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading">
    <text class="loading-text">æ­£åœ¨æ£€æŸ¥ä¸­...</text>
  </view>

  <!-- é‡å¤ä¹¦ç±åˆ—è¡¨ -->
  <view wx:else class="duplicates-list">
    <view wx:if="{{duplicates.length === 0}}" class="no-duplicates">
      <text class="no-duplicates-text">ğŸ‰ æ²¡æœ‰å‘ç°é‡å¤ä¹¦ç±ï¼</text>
    </view>

    <view wx:else class="duplicates-container">
      <view class="summary">
        <text class="summary-text">å‘ç° {{duplicates.length}} ç§é‡å¤ä¹¦ç±</text>
        <button class="cleanup-btn" bindtap="cleanupDuplicates">ä¸€é”®æ¸…ç†</button>
      </view>

      <view class="duplicate-items">
        <view wx:for="{{duplicates}}" wx:key="title" class="duplicate-item">
          <view class="item-header">
            <text class="book-title">{{item.title}}</text>
            <text class="count-badge">{{item.count}}æœ¬</text>
          </view>

          <view class="book-details">
            <view wx:for="{{item.books}}" wx:key="id" class="book-info">
              <view class="book-row">
                <text class="label">ID:</text>
                <text class="value">{{item.id}}</text>
              </view>
              <view class="book-row">
                <text class="label">ä¸Šä¼ æ—¶é—´:</text>
                <text class="value">{{item.uploadTime ? formatTime(item.uploadTime) : 'æœªçŸ¥'}}</text>
              </view>
              <view class="book-row">
                <text class="label">å­—æ•°:</text>
                <text class="value">{{item.totalChars}}</text>
              </view>
              <view class="book-row">
                <text class="label">çŠ¶æ€:</text>
                <text class="status {{item.hasContent === 'å¯è¯»' ? 'readable' : 'unreadable'}}">{{item.hasContent}}</text>
              </view>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>