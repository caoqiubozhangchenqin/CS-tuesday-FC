<!-- pages/novel/shelf/shelf.wxml -->
<view class="container">
  <view class="header">
    <text class="title">ğŸ“š æˆ‘çš„ä¹¦æ¶</text>
    <view class="search-btn" bindtap="goToSearch">
      <text class="search-icon">ğŸ”</text>
      <text class="search-text">æœç´¢å°è¯´</text>
    </view>
  </view>

  <!-- ä¹¦æ¶åˆ—è¡¨ -->
  <view wx:if="{{bookList && bookList.length > 0}}" class="book-list">
    <view wx:for="{{bookList}}" wx:key="id" class="book-item" bindtap="goToReader" data-book="{{item}}">
      <view class="book-cover">
        <image wx:if="{{item.cover}}" src="{{item.cover}}" mode="aspectFill"></image>
        <view wx:else class="no-cover">ğŸ“–</view>
      </view>
      <view class="book-info">
        <text class="book-name">{{item.name}}</text>
        <text class="book-author">ä½œè€…ï¼š{{item.author}}</text>
        <text class="book-progress">
          {{item.currentChapter ? 'å·²è¯»è‡³ï¼šç¬¬' + item.currentChapter + 'ç« ' : 'æœªå¼€å§‹é˜…è¯»'}}
        </text>
      </view>
      <view class="book-delete" catchtap="deleteBook" data-id="{{item.id}}">
        <text>âœ•</text>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:else class="empty-state">
    <text class="empty-icon">ğŸ“š</text>
    <text class="empty-text">ä¹¦æ¶ç©ºç©ºå¦‚ä¹Ÿ</text>
    <view class="empty-btn" bindtap="goToSearch">
      <text>å»æ·»åŠ å°è¯´</text>
    </view>
  </view>
</view>
