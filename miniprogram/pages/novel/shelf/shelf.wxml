<!-- pages/novel/shelf/shelf.wxml -->
<bg src="cloud://cloud1-3ge5gomsffe800a7.636c-cloud1-3ge5gomsffe800a7-1373366709/csfc_bg/è¶³çƒ.png" overlayOpacity="0.3" blur="0" sizeMode="cover" repeat="false" />
<view class="container">
  <!-- èƒŒæ™¯è£…é¥° -->
  <view class="bg-decoration">
    <view class="bg-circle bg-circle-1"></view>
    <view class="bg-circle bg-circle-2"></view>
    <view class="bg-circle bg-circle-3"></view>
  </view>

  <view class="header">
    <text class="title">ðŸ“š æˆ‘çš„ä¹¦æž¶</text>
    <!-- ä¸Šä¼ æŒ‰é’® - ä»…ç®¡ç†å‘˜å¯è§ï¼Œç¼©å°å¹¶æ”¾åœ¨å³ä¾§ -->
    <view wx:if="{{isAdmin}}" class="upload-btn" bindtap="goToUpload">
      <text class="btn-icon">ðŸ“¤</text>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <loading wx:if="{{loading}}" text="åŠ è½½ä¸­..." mask="{{false}}"></loading>

  <!-- ä¹¦ç±åˆ—è¡¨ -->
  <view wx:elif="{{bookList && bookList.length > 0}}" class="book-list">
    <card wx:for="{{bookList}}" wx:key="id" class="book-card" bindtap="goToReader" data-book="{{item}}">
      <view slot="content" class="book-cover">
        <text class="cover-icon">ðŸ“–</text>
        <view class="book-badge">{{item.format}}</view>
      </view>
      <view slot="footer" class="book-info">
        <text class="book-name">{{item.name}}</text>
        <text class="book-meta">{{item.uploadTime}}</text>
      </view>
    </card>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <empty wx:else title="ä¹¦æž¶ç©ºç©ºå¦‚ä¹Ÿ" description="{{isAdmin ? 'å¿«åŽ»ä¸Šä¼ ä½ å–œæ¬¢çš„å°è¯´å§' : 'ç­‰å¾…ç®¡ç†å‘˜ä¸Šä¼ ç²¾å½©ä¹¦ç±'}}" icon="ðŸ“š" show-action="{{isAdmin}}" action-text="ðŸ“¤ ç«‹å³ä¸Šä¼ " bindaction="goToUpload"></empty>
</view>
