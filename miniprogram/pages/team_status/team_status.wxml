<!-- pages/team_status/team_status.wxml -->
<bg overlayOpacity="0.3" blur="0" sizeMode="cover" repeat="false" />
<view class="container">
  <!-- åˆ—è¡¨å¤´éƒ¨æ ‡é¢˜ -->
  <view class="page-title">
    <text class="title-icon">âš½</text>
    <text>å„é˜ŸæŠ¥ååŠæ€»èº«ä»·</text>
  </view>

  <!-- åŠ è½½ä¸­çš„æç¤º -->
  <view wx:if="{{isLoading}}" class="loading-tip">æ•°æ®åŠ è½½ä¸­...</view>

  <!-- å¾ªç¯å±•ç¤ºæ‰€æœ‰é˜Ÿä¼ -->
  <view class="team-card-list" wx:else>
    <view class="team-card" wx:for="{{teamsWithInterest}}" wx:key="_id">
      
      <!-- å¡ç‰‡å¤´éƒ¨ï¼šé˜Ÿåå’Œæ€»èº«ä»· -->
      <view class="card-header">
        <view class="team-name">
          <text class="team-icon">ğŸ‘•</text>
          <text>{{item.teamName}}</text>
        </view>
        <view class="team-value">
          <text class="value-icon">ğŸ’°</text>
          <text class="value-number">{{item.totalTeamValue}}</text>
          <text class="value-unit">ä¸‡æ¬§</text>
        </view>
      </view>

      <!-- æ–°å¢æŠ¥åæˆå‘˜åˆ—è¡¨ -->
      <view class="user-list">
        <view class="user-list-header">
          <text class="member-icon">ğŸ‘¥</text>
          <text>é˜Ÿå‘˜ ({{item.interestedUsersWithAvatar.length || item.interestedUsers.length}})</text>
        </view>
        <view class="user-tags">
          <view class="user-tag" wx:for="{{item.interestedUsersWithAvatar || item.interestedUsers}}" wx:for-item="user" wx:key="index">
            <image wx:if="{{user.avatarUrl}}" class="user-avatar" src="{{user.avatarUrl}}" mode="aspectFill"></image>
            <text class="user-name">{{user.nickname || user}}</text>
          </view>
        </view>
      </view>

    </view>
  </view>
</view>