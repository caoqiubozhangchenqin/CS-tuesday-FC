# 快速添加背景图 - 复制粘贴版

## 你只需要复制粘贴3段代码！

### 对于每个页面：

---

## 第一步：修改 .js 文件

### 1. 在 `data: {` 里面，最后一行添加：
```javascript
globalBgUrl: ''
```

**示例：**
```javascript
data: {
  questions: [],
  userAnswers: {},
  globalBgUrl: ''  // ← 添加这一行（注意前面加逗号）
},
```

### 2. 在 `onLoad: function()` 的第一行添加：
```javascript
getApp().setPageBackground(this);
```

**示例：**
```javascript
onLoad: function () {
  getApp().setPageBackground(this);  // ← 添加这一行
  this.getQuestions();  // 原来的代码
},
```

### 3. 在 `onLoad` 后面添加整个 `onShow` 方法：
```javascript
onShow: function() {
  if (!this.data.globalBgUrl) {
    setTimeout(() => {
      const app = getApp();
      if (app.globalData.globalBackgroundImageUrl) {
        this.setData({ globalBgUrl: app.globalData.globalBackgroundImageUrl });
      }
    }, 100);
  }
},
```

**完整示例：**
```javascript
onLoad: function () {
  getApp().setPageBackground(this);
  this.getQuestions();
},

onShow: function() {
  if (!this.data.globalBgUrl) {
    setTimeout(() => {
      const app = getApp();
      if (app.globalData.globalBackgroundImageUrl) {
        this.setData({ globalBgUrl: app.globalData.globalBackgroundImageUrl });
      }
    }, 100);
  }
},
```

---

## 第二步：修改 .wxml 文件

在文件**最顶部**（第一行之前）添加：
```xml
<view class="page-background" style="background-image: url({{globalBgUrl}});"></view>

```

**示例：**
```xml
<view class="page-background" style="background-image: url({{globalBgUrl}});"></view>

<view class="container">
  <!-- 原来的内容 -->
</view>
```

---

## 需要添加的页面清单

- [ ] admin/admin
- [ ] captain_panel/captain_panel
- [ ] registration_status/registration_status
- [ ] result/result
- [ ] schedule/schedule
- [ ] standings/standings
- [ ] survey/survey
- [ ] team_signup/team_signup
- [ ] team_status/team_status

每个页面2-3分钟即可完成！

---

## 注意事项

1. **逗号问题**：在 `data` 中添加 `globalBgUrl` 时，前面的属性后面要加逗号
2. **缩进对齐**：保持和其他代码一样的缩进
3. **wxml空行**：添加背景容器后记得空一行再写原来的内容

---

## 完成后

重新编译小程序，进入对应页面，就能看到背景图了！
